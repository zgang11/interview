<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>叠词的数量</title>
  </head>
  <body>
    <script>
      // https://www.zhihu.com/tardis/bd/art/135999364?source_id=1001

      //     Input: 'abcdaaabbccccdddefgaaa'
      //     Output: 4

      let input = 'abcdaaabbccccdddefgaaa'

      function repeatChar(str) {
        let arr = str.split(''), n = arr.length, ans = []
        for(let i = 0; i < n; i++) {
          let j = i + 1
          while(j < n && arr[j] === arr[i]) {
            j++
          }
          
          if(j - i >= 2) {
            console.log(i, j)
            ans.push(str.slice(i, j))
          }
          i = j - 1
        }
        return ans
      }

      // function repeatChar(str) {
      //   return str.match(/(.)\1+/g)
      // }

      console.log(repeatChar(input))

      // 1. 输出叠词的数量
      // 2. 输出去重叠词的数量
      // 3. 用正则实现
    </script>
  </body>
</html>
