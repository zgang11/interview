<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <script>
        // 13: 57
        // 一劳永逸
        // 给你一个链表数组， 每个链表都已经按升序排列。 请你将所有链表合并到一个升序链表中， 返回合并后的链表。
        
        //  Definition for singly-linked list.
         function ListNode(val, next) {
            this.val = (val===undefined ? 0 : val)
             this.next = (next===undefined ? null : next)
         }
         
        //  * @param {ListNode[]} lists
        //  * @return {ListNode}
        //  */
        // 示例 1：
        const lists = [
            [1, 4, 5],
            [1, 3, 4],
            [2, 6]
        ]
        // 输出：[1, 1, 2, 3, 4, 4, 5, 6]

        const linkAll = []

        function createList(lists){
            lists.forEach(element => {
                let head = new ListNode(-1,null)
                cur = head
                for(let ele of element){
                    cur.next = new ListNode(ele, null)
                    cur = cur.next
                }
                linkAll.push(head.next)
            });
        }


        createList(lists)
        // console.log(linkAll)

        function mergeLink(arr1, arr2){
           console.log(arr1, arr2)
           let head = new ListNode(-1, null)
           let p = head
           let cur1 = arr1, cur2 = arr2
           while(cur1 && cur2){
              if(cur1.val < cur2.val){
                  p.next = cur1
                  p = cur1
                  cur1 = cur1.next
              }else{
                  p.next = cur2
                  p = cur2
                  cur2 = cur2.next
              }
           }
           p.next = cur1 ? cur1 : cur2
           return head.next
        }
  
        let result = linkAll[0]
        for(let i = 1; i < linkAll.length; i++){
            result = mergeLink(result, linkAll[i])
            console.log(result)
        }
+
        let lastResult = []
        let newCur = result
        while(newCur){
            lastResult.push(newCur.val)
            newCur = newCur.next
        }
    
        console.log(result)
        console.log(lastResult)
    </script>
</body>

</html>